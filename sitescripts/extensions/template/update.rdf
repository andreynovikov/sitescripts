<?xml version="1.0" encoding="UTF-8"?>

<!-- This Source Code is subject to the terms of the Mozilla Public License
   - version 2.0 (the "License"). You can obtain a copy of the License at
   - http://mozilla.org/MPL/2.0/. -->

<RDF xmlns="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:em="http://www.mozilla.org/2004/em-rdf#">
  {%- for extension in extensions %}
  <Description about="urn:mozilla:extension:{{extension.extensionID}}">
    <em:updates>
      <Seq>
        <li>
          <Description>
            <em:version>{{extension.version}}</em:version>
            {%- for app in extension.compat %}
            <em:targetApplication>
              <Description>
                <em:id>{{app.id}}</em:id>
                <em:minVersion>{{app.minVersion}}</em:minVersion>
                <em:maxVersion>{{app.maxVersion}}</em:maxVersion>
                <em:updateLink>{{extension.updateURL}}</em:updateLink>
                {%- if extension.changelogURL %}
                <em:updateInfoURL>{{extension.changelogURL}}</em:updateInfoURL>
                {%- endif %}
              </Description>
            </em:targetApplication>
            {%- endfor %}
          </Description>
        </li>
      </Seq>
    </em:updates>
  </Description>
  {%- endfor %}
</RDF>
